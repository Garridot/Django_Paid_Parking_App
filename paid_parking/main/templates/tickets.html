{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container-fluid">
  <div class="title">
    <h3>Paid Parking App</h3>
  </div>
  <h6>Fare: 0.5 $ per minute</h6>
  <div style="justify-content: space-between; display: flex;">
    <a href="{% url 'cars_list' %}">View Residents</a>  
    <a href="{% url 'ticket_create' %}"><i class="fas fa-plus"></i> Create ticket</a>
  </div> 
  <table class="table">        
    <thead>      
      <tr> 
        <th scope="col">License Plate</th>
        <th scope="col">Check In Time</th>
        <th scope="col">Check Out Time</th>
        <th scope="col">Time Spent</th>
        <th scope="col">Total Due</th>
      </tr>
    </thead>
    
    <tbody>        
      {% for ticket in object_list %}
      <tr>
        <th scope="row">{{ticket.license_plate}}</th>
        <td>{{ticket.checkin_time}}</td>
        <td>{{ticket.checkout_time}}</td>
        <td>{{ticket.time_spent}}</td>
        <td>$ {{ticket.total_due}}</td>
        {% if ticket.checkout_time == None  %}        
          <td><button><a href="{% url 'ticket_out' ticket.id %}">a</a></button></td>
        {% endif %}  
      </tr> 
    {% endfor %}     
    </tbody>
      
  </table>
</div>
{% endblock %}